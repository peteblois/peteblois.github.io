<!DOCTYPE html>
<style>
  iframe {
    width: 100%;
    height: 0px;
  }
</style>
<h1>Iframe resizing</h1>
Example of ResizeObserver requesting that the iframe be resized.
<script>
  (async () => {
    const iframe = document.createElement('iframe');
    iframe.src = `iframe.html`;
    iframe.style.display = 'block';
    iframe.style.height = '0';

    window.addEventListener('message', (e) => {
      const data = e.data;
      iframe.style.height = `${data.height}px`;
    })

    await new Promise((resolve, reject) => {
      iframe.onload = resolve;
      iframe.onerror = reject;
      document.body.appendChild(iframe);
    });
  })();
</script>
